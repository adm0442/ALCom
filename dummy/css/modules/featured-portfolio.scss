@function strip-units ($number) {
	@return $number / ($number * 0 + 1);
}

@mixin device ($src, $render-width, $width, $height, $offset-top, $offset-right, $offset-bottom, $offset-left) {
	$ratio: $render-width / $width;
	$border-top-width: strip-units($offset-top / 100) * $height * $ratio;
	$border-right-width: strip-units($offset-right / 100) * $width * $ratio;
	$border-bottom-width: strip-units($offset-bottom / 100) * $height * $ratio;
	$border-left-width: strip-units($offset-left / 100) * $width * $ratio;

	border-image: url($src) $offset-top $offset-right $offset-bottom $offset-left;
	border-width: #{$border-top-width}px #{$border-right-width}px #{$border-bottom-width}px #{$border-left-width}px;

	width: #{$render-width - $border-left-width - $border-right-width}px;
	height: #{$height * $ratio - $border-top-width - $border-bottom-width}px;

	overflow: hidden;
}

#featured-portfolio {
	// Nothing here atm...

	// Each item
	> article {
		@include clearfix;

		// Images
		> ul:first-child {
			margin-left: 0;
			list-style: none;

			// To remove spacing between inline-block elements
			font-size: 0;

			// Reflect this whole element (nope: too slow together with animated images)
			-webkit-box-reflect: below 0 -webkit-linear-gradient(top, rgba(0, 0, 0, 0) 85%, white 150%);

			// Each image
			> li {
				display: inline-block;

				// Some nice hover effects (nope: too slow together with reflection)
			/*	position: relative;
				bottom: 0;
				transition: bottom .2s ease-in-out;

				&:hover {
					bottom: $margin / 2;
				} */

				// Ignore line-height etc
				img {
					display: block;
				}

				// Different screen sizes
				&.desktop {
					@include device("gfx/imac-800x661.svg", 600, 800, 661, 3.21%, 2.65%, 30.22%, 2.65%);
					margin-right: -120px;

					@media #{$bp-4-max} {
						display: none;
					}
				}

				&.tablet {
					@include device("gfx/ipad-600x888.svg", 240, 600, 888, 10.28%, 5.94%, 10.13%, 5.59%);

					@media #{$bp-1} {
						margin-right: -60px;
					}
				}

				&.mobile {
					@include device("gfx/iphone-400x839.svg", 120, 400, 839, 14.30%, 6.41%, 13.54%, 7.56%);

					@media #{$bp-1-max} {
						display: none;
					}
				}
			}
		}
	}
}
